From b5049cb17ae3d15b2b26890de0e24d0fecc080f5 Mon Sep 17 00:00:00 2001
From: Christian Egli <christian.egli@sbs.ch>
Date: Mon, 4 Jun 2018 15:47:28 +0200
Subject: [PATCH] Fix yet another buffer overflow in the braille table parser

Reported by Henri Salo

Fixes #593
---
 liblouis/compileTranslationTable.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/liblouis/compileTranslationTable.c b/liblouis/compileTranslationTable.c
index a4336d349..e3ca96075 100644
--- a/liblouis/compileTranslationTable.c
+++ b/liblouis/compileTranslationTable.c
@@ -2991,7 +2991,7 @@ compileHyphenation(FileInfo *nested, CharsString *encoding, int *lastToken,
 	HyphenationTrans *holdPointer;
 	HyphenHashTab *hashTab;
 	CharsString word;
-	char pattern[MAXSTRING];
+	char pattern[MAXSTRING + 1];
 	unsigned int stateNum = 0, lastState = 0;
 	int i, j, k = encoding->length;
 	widechar ch;

