Patch from https://rt.perl.org/Public/Bug/Display.html?id=131598

--- perl-5.22.1/regcomp.c	2018-02-19 16:13:36.255174989 +0100
+++ perl-5.22.1/regcomp.c	2018-02-19 16:13:01.748819817 +0100
@@ -11296,13 +11296,16 @@ S_grok_bslash_N(pTHX_ RExC_state_t *pREx
 	}
         sv_catpv(substitute_parse, ")");
 
-	RExC_parse = SvPV(substitute_parse, len);
+        len = SvCUR(substitute_parse);
 
 	/* Don't allow empty number */
 	if (len < (STRLEN) 8) {
             RExC_parse = endbrace;
 	    vFAIL("Invalid hexadecimal number in \\N{U+...}");
 	}
+
+	RExC_parse = SvPV(substitute_parse, len);
+
 	RExC_end = RExC_parse + len;
 
         /* The values are Unicode, and therefore not subject to recoding, but
