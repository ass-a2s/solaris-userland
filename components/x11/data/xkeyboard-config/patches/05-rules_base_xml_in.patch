# Copyright (c) 2012, 2018, Oracle and/or its affiliates. All rights reserved.
# This patch includes the fix for:
# Bug 16807596 - [XKB] Sun Type 7 Keyboard Scroll lock and
#    Compose indicators (LEDs) don't work
--- xkeyboard-config-2.24/rules/base.xml.in	2018-06-04 15:36:13.000000000 -0700
+++ xkeyboard-config-2.24/rules/base.xml.in	2018-10-03 05:06:06.372792694 -0700
@@ -1463,10 +1463,16 @@
           <configItem>
             <name>workman-intl</name>
             <_description>English (Workman, intl., with dead keys)</_description>
            </configItem>
          </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>English (US, Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>af</name>
@@ -1603,10 +1609,16 @@
             <_description>Arabic (OLPC)</_description>
           </configItem>
         </variant>
         <variant>
           <configItem>
+            <name>sun_type6</name>
+            <_description>Arabic (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
+        <variant>
+          <configItem>
             <name>mac</name>
             <_description>Arabic (Macintosh)</_description>
           </configItem>
         </variant>
       </variantList>
@@ -1812,10 +1824,16 @@
           <configItem>
             <name>wang</name>
             <_description>Belgian (Wang 724 AZERTY)</_description>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Belgian (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>bd</name>
@@ -2311,10 +2329,16 @@
           <configItem>
             <name>thinkpad</name>
             <_description>Portuguese (Brazil, IBM/Lenovo ThinkPad)</_description>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Portuguese (Brazil, Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>bg</name>
@@ -2649,10 +2673,16 @@
             <languageList>
               <iso639Id>eng</iso639Id>
             </languageList>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Multilingual (Canada, Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>cd</name>
@@ -2793,10 +2823,16 @@
             <_description>Czech (US, Dvorak, UCW support)</_description>
           </configItem>
         </variant>
         <variant>
           <configItem>
+            <name>sun_type6</name>
+            <_description>Czech (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
+        <variant>
+          <configItem>
             <name>rus</name>
             <!-- Keyboard indicator for Russian layouts -->
             <_shortDescription>ru</_shortDescription>
             <_description>Russian (Czech, phonetic)</_description>
             <languageList>
@@ -2845,10 +2881,16 @@
           <configItem>
             <name>dvorak</name>
             <_description>Danish (Dvorak)</_description>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Danish (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>nl</name>
@@ -2876,10 +2918,16 @@
           <configItem>
             <name>std</name>
             <_description>Dutch (standard)</_description>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Dutch (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>bt</name>
@@ -2918,10 +2966,16 @@
           <configItem>
             <name>us</name>
             <_description>Estonian (US, with Estonian letters)</_description>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Estonian (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>ir</name>
@@ -3104,10 +3158,16 @@
           <configItem>
             <name>mac</name>
             <_description>Finnish (Macintosh)</_description>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Finnish (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>fr</name>
@@ -3225,10 +3285,16 @@
             <languageList>
               <iso639Id>geo</iso639Id>
             </languageList>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>French (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>gh</name>
@@ -3504,10 +3570,16 @@
             </languageList>
           </configItem>
         </variant>
         <variant>
           <configItem>
+            <name>sun_type6</name>
+            <_description>German (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
+        <variant>
+          <configItem>
             <name>deadtilde</name>
             <_description>German (dead tilde)</_description>
           </configItem>
         </variant>
       </variantList>
@@ -3545,10 +3617,16 @@
           <configItem>
             <name>polytonic</name>
             <_description>Greek (polytonic)</_description>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Greek (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>hu</name>
@@ -3824,10 +3902,16 @@
               <iso639Id>ita</iso639Id>
               <iso639Id>scn</iso639Id>
             </languageList>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Italian (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>jp</name>
@@ -3867,10 +3951,28 @@
           <configItem>
             <name>dvorak</name>
             <_description>Japanese (Dvorak)</_description>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Japanese (Sun Type 6)</_description>
+          </configItem>
+        </variant>
+        <variant>
+          <configItem>
+            <name>sun_type7</name>
+            <_description>Japanese (Sun Type 7 - pc compatible)</_description>
+          </configItem>
+        </variant>
+        <variant>
+          <configItem>
+            <name>sun_type7_suncompat</name>
+            <_description>Japanese (Sun Type 7 - sun compatible)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>kg</name>
@@ -4067,10 +4169,16 @@
           <configItem>
             <name>lekpa</name>
             <_description>Lithuanian (LEKPa)</_description>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Lithuanian (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>lv</name>
@@ -4116,10 +4224,16 @@
           <configItem>
             <name>adapted</name>
             <_description>Latvian (adapted)</_description>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Latvian (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>mao</name>
@@ -4298,10 +4412,16 @@
             <_description>Norwegian (Macintosh, no dead keys)</_description>
           </configItem>
         </variant>
         <variant>
           <configItem>
+            <name>sun_type6</name>
+            <_description>Norwegian (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
+        <variant>
+          <configItem>
             <name>colemak</name>
             <_description>Norwegian (Colemak)</_description>
           </configItem>
         </variant>
       </variantList>
@@ -4380,10 +4500,16 @@
           <configItem>
             <name>dvp</name>
             <_description>Polish (programmer Dvorak)</_description>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Polish (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>pt</name>
@@ -4444,10 +4570,16 @@
             <languageList>
               <iso639Id>epo</iso639Id>
             </languageList>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Portuguese (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>ro</name>
@@ -4481,10 +4613,16 @@
           <configItem>
             <name>winkeys</name>
             <_description>Romanian (Win keys)</_description>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Romanian (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>ru</name>
@@ -4647,10 +4785,16 @@
             </languageList>
           </configItem>
         </variant>
         <variant>
           <configItem>
+            <name>sun_type6</name>
+            <_description>Russian (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
+        <variant>
+          <configItem>
             <name>phonetic_azerty</name>
             <_description>Russian (phonetic, AZERTY)</_description>
           </configItem>
         </variant>
         <variant>
@@ -4783,10 +4927,16 @@
           <configItem>
             <name>qwerty_bksl</name>
             <_description>Slovak (QWERTY, extended backslash)</_description>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Slovak (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>es</name>
@@ -4852,10 +5002,16 @@
           <configItem>
             <name>mac</name>
             <_description>Spanish (Macintosh)</_description>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Spanish (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>se</name>
@@ -4941,10 +5097,16 @@
             <languageList>
               <iso639Id>swl</iso639Id>
             </languageList>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Swedish (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>ch</name>
@@ -5029,10 +5191,22 @@
             <!-- Keyboard indicator for German layouts -->
             <_shortDescription>de</_shortDescription>
             <_description>German (Switzerland, Macintosh)</_description>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6_de</name>
+            <_description>German (Switzerland, Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6_fr</name>
+            <_description>French (Switzerland, Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>sy</name>
@@ -5278,10 +5452,16 @@
             <languageList>
               <iso639Id>crh</iso639Id>
             </languageList>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Turkish (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>tw</name>
@@ -5381,10 +5561,16 @@
           <configItem>
             <name>homophonic</name>
             <_description>Ukrainian (homophonic)</_description>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Ukrainian (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>gb</name>
@@ -5436,10 +5622,16 @@
           <configItem>
             <name>colemak</name>
             <_description>English (UK, Colemak)</_description>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>English (UK, Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>uz</name>
@@ -5486,10 +5678,16 @@
           <configItem>
             <name>kr104</name>
             <_description>Korean (101/104 key compatible)</_description>
           </configItem>
         </variant>
+        <variant>
+          <configItem>
+            <name>sun_type6</name>
+            <_description>Korean (Sun Type 6/7)</_description>
+          </configItem>
+        </variant>
       </variantList>
     </layout>
     <layout>
       <configItem>
         <name>nec_vndr/jp</name>
@@ -6517,10 +6715,23 @@
         <configItem>
           <name>grp_led:scroll</name>
           <_description>Scroll Lock</_description>
         </configItem>
       </option>
+    </group>
+    <group allowMultipleSelection="true">
+      <!-- Using LEDs to indicate modifiers -->
+      <configItem>
+        <name>mod_led</name>
+        <_description>Use keyboard LED to indicate modifiers</_description>
+      </configItem>
+      <option>
+        <configItem>
+          <name>mod_led:compose</name>
+          <_description>Compose</_description>
+        </configItem>
+      </option>
     </group>
     <group allowMultipleSelection="false">
       <!-- Select a keypad type -->
       <configItem>
         <name>keypad</name>
